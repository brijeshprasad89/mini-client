<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Client.html">Client</a><ul class='methods'><li data-type='method'><a href="Client.html#init">init</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="module-mini-client.html">mini-client</a><ul class='methods'><li data-type='method'><a href="module-mini-client.html#~createClient">createClient</a></li></ul></li><li><a href="module-register.html">register</a><ul class='methods'><li data-type='method'><a href="module-register.html#.registerFromServer">registerFromServer</a></li><li data-type='method'><a href="module-register.html#.registerLocal">registerLocal</a></li></ul></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><p><a href="https://npmjs.org/package/mini-client"><img src="https://img.shields.io/npm/v/mini-client.svg" alt="NPM Version"></a>
<a href="https://david-dm.org/feugy/mini-client"><img src="https://img.shields.io/david/feugy/mini-client.svg" alt="Dependencies"></a>
<a href="https://travis-ci.org/feugy/mini-client"><img src="https://api.travis-ci.org/feugy/mini-client.svg" alt="Build"></a>
<a href="https://coveralls.io/r/feugy/mini-client?branch=master"><img src="https://img.shields.io/coveralls/feugy/mini-client/master.svg" alt="Test Coverage"></a></p>
<h1>Minimalist µServices</h1><p>Mini-client is a generic client for µServices built with <a href="https://github.com/feugy/mini-service/">mini-service</a>.
The goal of mini-service is to give the minimal structure to implement a µService, that can be invoked locally or remotely.</p>
<p>Its principles are the following:</p>
<ul>
<li>very easy to add new service api endpoints</li>
<li>easy to use client interface, same usage both locally and remotely</li>
<li>hide deployment details and provide simple-yet-working solution</li>
<li>promises based</li>
</ul>
<p>mini-client &amp; mini-service use the latest ES6 features, so they requires node 6+</p>
<p>Please checkout the <a href="https://feugy.github.io/mini-client/">API reference</a></p>
<p>This project was kindly sponsored by <a href="http://nearform.com">nearForm</a>.</p>
<h2>Generic client for mini-services</h2><p>Mini-client expose a generic client that can be wired to any service exposed with <a href="https://github.com/feugy/mini-service/">mini-service</a>.
It provides an JavaScript object, that will fetch exposed APIs and creates a function for each of them.
This allow to invoke remote API like if they were plain function (it's a kind of good old RPC).</p>
<p><code>caller-remote.js</code></p>
<pre class="prettyprint source lang-javascript"><code>const getClient = require('mini-client')

const calc = getClient({
  remote: 'http://localhost:3000'
})
calc.add(10, 5).then(sum => console.log(`Result is: ${sum}`))</code></pre><p>Each API will end-up as a function (named after the API itself) that returns a promise.
Calling a function that isn't an exposed API will fails as if you try to invoked an unknown property of a regular
 object.</p>
<p>At the first call, mini-client fetch from the remote server the exposed API and creates the actual functions.</p>
<p>After being initialized, a mini-client can't be wired to another service, and will always try to invoke the one it
was initiliazed with.</p>
<p>Please note that you can call <code>init()</code> (see bellow), which doesn't do anything in &quot;remote mode&quot;.</p>
<h2>Generic client for local services</h2><p>While calling remote service is a realistic scenario for production environments, it's more convenient to run
all code in the same unit on dev (for debugging) and in continuous integration.</p>
<p>That's why mini-client can run the in &quot;local mode&quot;.
In this case, the service definition is loaded at initialization.</p>
<p><code>caller-local.js</code></p>
<pre class="prettyprint source lang-javascript"><code>const getClient = require('mini-client')
const calcService = require('./calc-service')

const calc = getClient(calcService)
calc.init().then(() =>
  calc.add(10, 5).then(sum => console.log(`Result is: ${sum}`))
)</code></pre><p>Two noticeable difference with &quot;remote mode&quot;:</p>
<ul>
<li>you need to provide the <a href="https://github.com/feugy/mini-service#example">service definition</a> when creating the client</li>
<li>you need to invoke <code>init()</code> prior to any call, which run exposed API initialization code
(as if the server were starting)</li>
</ul>
<p>Then, you can invoke exposed APIs as function like in &quot;remote mode&quot;.</p>
<h2>Validations</h2><p>When invoking an exposed API, Mini-client can report parameters validation error.
If the distant service denies the operation because of a missing or errored parameter,
the returned promise will be rejected with the appropriate error message.</p>
<h2>License</h2><p>Copyright <a href="https://github.com/feugy">Damien Simonin Feugas</a> and other contributors, licensed under <a href="./LICENSE">MIT</a>.</p>
<h2>Changelog</h2><h3>2.0.0</h3><ul>
<li>Introduce new terminology, with service descriptor and API groups</li>
<li>Allow to declare API without groups</li>
<li>Allow to declare API validation in group options</li>
<li>Force name+version on local client</li>
<li>When parsing exposed APIs, expect 'group' property instead of 'name'</li>
<li>Better documentation</li>
<li>More understandable error messages</li>
</ul>
<h3>1.0.0</h3><ul>
<li>initial release</li>
</ul></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>